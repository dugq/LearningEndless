## 概述
* 分布式文档存储工具
* 存储已序列化为 JSON 文档的复杂数据结构
* 每个index文档分布在整个集群中，可以从任意节点访问index
* 存进去后，可以在1s内可访问
* es为每个字段建立一个索引，而且不同的数据类型会采用不同的索引结构。例如：文本字段采用倒排索引，而数字，地理位置则采用BKD索引
* es可以是无模型的，es可以动态的增加字段，并且自动识别字段类型。仅限于数字、布尔、浮点、日期、字符串
* es建议还是自定义出确定的数据结构，因为你比es更了解你需要存的数据结构
* es支持同一个字段设置不同类型，以实现出于不同目的采用不同的的索引方式索引同一个字段。例如：文本字段支持中英文同时搜索
* es是建立在阿帕奇lucene基础上的全套搜索引擎
* es提供简单连贯的restfulAPI支持在不同语言的客户端轻松使用
* es可以利用聚合搜索近乎实时的绘制统计报表
* es的聚合搜索同时支持机器学习

## 扩展性
* es可以通过增加往集群中添加新的节点（机器）后自动扩容，并且不影响es的可用性。
* es将索引分为很多个分片，分别存储在不同的节点的上，并且每个分片都有至少一个备份，这个备份分片可以用于查询
* 在es集群扩容或者缩容的时候，分片会自动迁移到新的（其他）节点上，此过程智能保证负载均衡。
* 索引的主分片数量一经创建，不可修改，但备份的数量是可以随时修改的，而且不影响索引本身的插入和查询操作
* 分片的大小和数量，将直接影响着查询的速度。一般情况，每个分片的数量在几GB到几十GB之间，每个节点的堆内存每GB至多20个分片。
* 为了保证es查询的高效，节点之间的链接必须是可靠并且高效的，因此同一个集群的所有节点最好在同一个数据中心
* es也提供CCR（集群复制功能），备份集群同时也可以提供服务 读请求。主从集群最好是跨数据中心，以避免集群毁坏

## 配置
* es的配置文件位置根据不同版本位置不一样，可用环境变量ES_PATH_CONF进行修改
* 配置文件为yaml格式，支持占位符替换环境变量，环境变量中的逗号字符串会被分割为数组
* 配置分为静态和动态配置两种。静态只能通过配置文件修改，动态的可以通过API修改
* 动态配置分为：API临时配置，API永久配置，配置文件，默认配置，顺序即是优先级  
*列表：*
~~~yaml    
path:  
    data: 数据存储路径，默认在es目录下  
    log:  es的日志路径，默认在es目录下
cluster:
    name: 集群的名称。同一个集群的所有节点应该有相同的集群名称
    initial_master_nodes: 可票选为主节点的机器。数组类型。首次启动时有用，集群搭建完毕，删除此属性
node:
    name: 节点的名称。每个节点都应该有个独一无二的名字
network:
    host: 网络IP设置。默认为127.0.0.1,当设置此值的时候，es将从开发模式切换到生产模式
discovery: 
    seed_hosts: 暂不了解，反正就是发现其他非同一个服务器的节点用的。要求必须是可被选举为主节点的节点。数组类型
~~~
#系统配置
可打开文件数要设置到最大65526
文件描述符要设置到最大
内存要独占stop swapping
mmp数量要设置到最大262144
可创建线程数设置最少4096


```

### API
GET _nodes/_all/jvm 查询jvm信息
