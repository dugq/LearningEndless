##### 什么是微服务

<details>
    <summary>
        解题思路
    </summary>

        架构风格

</details>
<details>
    <summary>
        百度百科
    </summary><br>

1. 微服务是一种软件架构风格，
2. 它将应用程序拆分成一系列小型、独立的服务，每个服务都运行在其自己的进程中，
3. 通过轻量级通信机制进行通信。
4. 每个服务都具有明确的业务能力，并且可以独立开发、测试、部署和扩展。
5. 微服务架构的核心思想是将应用程序分解为多个小型服务，每个服务都具有独立的功能和责任。
6. 每个服务都可以独立地开发、测试、部署和扩展，从而提高了应用程序的可维护性、可扩展性和灵活性。
</details>

##### 微服务的服务划分原则

<details>
    <summary>
        解题思路
    </summary>

        

</details>
<details>
    <summary>
        百度百科
    </summary><br>

1. 单一职责原则：每个微服务应该只负责一个特定的业务功能。单一职责原则有助于保持服务的聚焦和简单，便于独立开发和维护。如果一个服务承担了过多的职责，它可能会变得臃肿和复杂，从而影响到整个系统的健壮性和可维护性。
2. 业务领域驱动划分：根据应用程序的业务需求和领域知识来对服务进行划分。这通常需要与业务专家和开发人员紧密合作，共同识别和定义各个领域的边界。通过领域驱动的划分，可以确保各个微服务的业务逻辑紧密联系在一起，便于维护和拓展。
3. 层次结构清晰：微服务要有层次结构，不能形成网状，应该要有比较清晰的层次划分，分为高、低层，每层可以有多个服务，高层单向调用低层，同一层级之间可互调。
4. 独立性：每个微服务都应该是独立的、可独立部署和扩展的。每个服务都应该具有自己的数据库、通信机制和身份验证等独立的功能模块。
5. 可扩展性：每个微服务都应该能够独立地进行扩展，例如增加服务器、数据库等资源，以满足不断增长的用户需求。
6. 松耦合：微服务之间的依赖关系应该尽量减少，每个微服务都可以独立地运行和更新。这可以提高系统的容错性和可维护性。
7. 独立部署和扩展：每个微服务都应该能够独立地进行部署和扩展，以满足不同用户的需求和服务质量要求。
8. 服务间通信简单：微服务之间的通信机制应该简单、可靠和高效，例如使用RESTful API或者消息队列等。
9. 数据一致性：在分布式系统中，数据一致性是一个重要的问题。微服务架构需要处理不同服务之间的数据一致性问题，例如使用分布式事务或者基于消息的异步通信等。
10. 日志和监控：每个微服务都应该具有独立的日志和监控机制，以便及时发现和解决问题。

</details>

##### 微服务的设计原则

<details>
    <summary>
        解题思路
    </summary>

        

</details>
<details>
    <summary>
        百度百科
    </summary><br>

1. 独立性：每个微服务都应该是独立的、可独立部署和扩展的。这意味着每个微服务都应该具有自己的数据库、通信机制和身份验证等独立的功能模块。
2. 单一职责原则：每个微服务应该只负责一个特定的业务功能。这有助于保持服务的聚焦和简单，便于独立开发和维护。
3. 无状态性：每个微服务不应该依赖于外部状态，例如其他服务的状态或者全局状态。如果需要外部状态，应该通过API调用其他服务或者使用缓存来获取。
4. 轻量级通信：微服务之间应该使用轻量级的通信机制进行通信，例如基于HTTP的RESTful API或者消息队列等。这可以提高通信的灵活性和可扩展性。
5. 边界明确：每个微服务的边界应该明确，具有清晰的职责和范围。这有助于确保服务的独立性和可维护性。
6. 高内聚性：每个微服务的内部功能应该紧密联系在一起，共同实现一个特定的业务功能。这有助于保持服务的内聚性和可维护性。
7. 松耦合：微服务之间的依赖关系应该尽量减少，每个微服务都可以独立地运行和更新。这可以提高系统的容错性和可维护性。
8. 独立部署和扩展：每个微服务都应该能够独立地进行部署和扩展，以满足不同用户的需求和服务质量要求。
9. 高度可配置性：每个微服务都应该具有高度可配置性，以便根据实际需求进行灵活的配置和调整。
10. 安全性：每个微服务都应该具有必要的安全措施，例如身份验证、授权、数据加密等，以确保数据的安全性和隐私保护
</details>

##### 微服务之间的通信方式有那些

<details>
    <summary>
        解题思路
    </summary>

        不要局限思维。 通信就是把我知道的信息让对方也知道。
        不要只想到RPC，方法方式多种多样。各种三方软件都可以直接或间接，主动或被动的做到

</details>
<details>
    <summary>
        百度百科
    </summary><br>

* 同步：
  * restful api
  * RPC框架
* 异步： MQ
* 基于存储的： 数据库
* 发布订阅模式
  * MQ
  * ZK
  * redis 等
</details>

##### 微服务通信协议选择的方式以及考虑因素

<details>
    <summary>
        解题思路
    </summary>

   常规计算机软件设计原则： 高可用、高性能、可扩展、易用性、安全     

</details>
<details>
    <summary>
        百度百科
    </summary><br>

1. 性能：性能是服务间通信协议最重要的衡量标准之一。在分布式环境下，服务间通信协议的性能直接影响着系统的整体性能。一些常见的性能指标包括延迟、吞吐量和并发性。因此，在选择通信协议时，需要充分考虑这些性能指标，选择能够满足系统需求的通信协议。
2. 可靠性：可靠性是指通信协议在传输数据时的可靠性。在微服务架构中，由于服务之间是相互独立的，因此需要保证通信协议的可靠性，以确保数据传输的完整性和准确性。一些常见的可靠性措施包括数据校验、重试机制和容错处理等。
3. 易用性：易用性是指通信协议的易用程度，包括开发难度、调试和维护的便利性等。在选择通信协议时，需要考虑开发人员的技术水平和经验，选择易于理解和使用的通信协议。
4. 可扩展性：可扩展性是指通信协议的可扩展性，包括对不同服务之间通信需求的适应能力、对未来技术发展的适应性等。在选择通信协议时，需要考虑系统的扩展需求，选择具有可扩展性的通信协议。
5. 安全性：安全性是指通信协议的安全性，包括数据传输的加密、身份验证和授权等。在选择通信协议时，需要考虑系统的安全性需求，选择具有安全性的通信协议，以保护数据的安全性和隐私性。
</details>

##### 微服务组件及作用

<details>
    <summary>
        解题思路
    </summary>

        

</details>
<details>
    <summary>
        百度百科
    </summary><br>


</details>

##### 微服务 vs SOA

<details>
    <summary>
        解题思路
    </summary>

        

</details>
<details>
    <summary>
        百度百科
    </summary><br>

###### 什么是SOA架构
SOA（全称：Service Oriented Architecture），中文意思为 “面向服务的架构”，你可以将它理解为一个架构模型或者一种设计方法，而并不是服务解决方案。其中包含多个服务， 服务之间通过相互依赖或者通过通信机制，来完成相互通信的，最终提供一系列的功能。一个服务通常以独立的形式存在与操作系统进程中。各个服务之间通过网络调用 。
跟 SOA 相提并论的还有一个 ESB（企业服务总线），简单来说ESB就是一根管道，用来连接各个服务节点。为了集成不同系统，不同协议的服务，ESB 可以简单理解为：它做了消息的转化解释和路由工作，让不同的服务互联互通；
我们将各个应用之间彼此的通信全部去掉，在中间引入一个ESB企业总线，各个服务之间，只需要和ESB进行通信，这个时候，各个应用之间的交互就会变得更加的清晰，业务架构/逻辑等，也会变得很清楚。原本杂乱没有规划的系统，梳理成了一个有规划可治理的系统，在这个过程中，最大的变化，就是引入了ESB企业总线。
###### SOA 所解决的核心问题
1. 系统集成：站在系统的角度，解决企业系统间的通信问 题，把原先散乱、无规划的系统间的网状结构，梳理成规整、可治理的系统间星形结构，这一步往往需要引入 一些产品，比如 ESB、以及技术规范、服务管理规范；这一步解决的核心问题是【有序】
2. 系统的服务化：站在功能的角度，把业务逻辑抽象成可复用、可组装的服务，通过服务的编排实现业务的快速再生。目的：把原先固有的业务功能转变为通用的业务服务，实现业务逻辑的快速复用；这一步解决的核心问题是【复用】
3. 业务的服务化：站在企业的角度，把企业职能抽象成可复用、可组装的服务；把原先职能化的企业架构转变为服务化的企业架构，进一步提升企业的对外服务能力；前面两步都是从技术层面来解决系统调用、系统功能复用的问题。第三步，则是以业务驱动把一个 业务单元封装成一项服务。这一步解决的核心问题是 【高效】
###### 微服务架构
微服务架构其实和SOA架构类似，微服务是在SOA上做的升华。微服务架构重点强调的一个是"业务需要彻底的组件化和服务化"，原有的单个业务系统会拆分为多个可以独立开发、设计、运行的小应用。这样的小应用和其他各个应用之间，相互去协作通信，来完成一个交互和集成，这就是微服务架构。
组件化：组件表示一个可以独立更换和升级的单元，就以PC机为例，PC中的 CPU、内存、显卡、硬盘一样，独立更换升级而不影响其他单元。如果我们把PC作为组件以服务的方式构建，那么这台PC只需要维护主板和一些必要的外部设备。CPU、内存、硬盘都是以组件方式提供服务，PC需要调用CPU做计算处理，只需要知道CPU这个组件的地址即可。
###### 微服务的特征
1. 通过服务实现组件化
2. 按业务能力来划分服务和开发团队
3. 去中心化
4. 基础设施自动化（devops、自动化部署）
###### SOA 和微服务架构的差别
1. 微服务去中心化，去掉ESB企业总线。微服务不再强调传统SOA架构里面比较重的ESB企业服务总线，同时SOA的思想进入到单个业务系统内部实现真正的组件化
2. Docker容器技术的出现，为微服务提供了更便利的条件，比如更小的部署单元，每个服务可以通过类似Node或者Spring Boot等技术跑在自己的进程中。
3. SOA注重的是系统集成方面，而微服务关注的是完全分离
</details>

##### 微服务架构和分布式架构的区别

<details>
    <summary>
        解题思路
    </summary>

 * 可以说微服务是面向服务设计的一种解决方案
 * 而分布式是这个方法实施过程中针对服务部署方面的具体措施

</details>
<details>
    <summary>
        百度百科
    </summary>

1. 含义不同
* 微服务架构：微服务架构风格是一种将一个单一应用程序开发为一组小型服务的方法，每个服务运行在自己的进程中，服务间通信采用轻量级通信机制(通常用HTTP资源API)。这些服务围绕业务能力构建并且可通过全自动部署机制独立部署。这些服务共用一个最小型的集中式的管理，服务可用不同的语言开发，使用不同的数据存储技术。
* 分布式架构：分布式系统是若干独立计算机的集合，这些计算机对用户来说就像单个相关系统，即整个系统是由不同的计算机组成，而用户是无感知的，就像访问一台计算机一样。这里强调的是系统由不同物理上分离的计算机（服务器）组成。

2. 概念层面不同
* 微服务架构：微服务是设计层面的东西，一般考虑如何将系统从逻辑上进行拆分，也就是垂直拆分。微服务可以是分布式的，即可以将不同服务部署在不同计算机上，当然如果量小也可以部署在单机上。
* 分布式架构：分布式是部署层面的东西，即强调物理层面的组成，即系统的各子系统部署在不同计算机上。

3. 解决问题不同
* 微服务架构：微服务解决的是系统复杂度问题： 一般来说是业务问题，即在一个系统中承担职责太多了，需要打散，便于理解和维护，进而提升系统的开发效率和运行效率，微服务一般来说是针对应用层面的。微服务如果用在其它系统，如存储系统感觉怪怪的，就像说Mysql集群是微服务的，总觉得哪里不舒服。
* 分布式架构：分布式解决的是系统性能问题： 即解决系统部署上单点的问题，尽量让组成系统的子系统分散在不同的机器上进而提高系统的吞吐能力。

4. 部署方式不同
* 微服务架构：微服务的应用可以部署在是同一个服务器，不一定是分散在多个服务器上。微服务架构是一项在云中部署应用和服务的新技术。微服务架构是一种架构模式，它将一个复杂的大型应用程序划分成多个微服务，这些小型服务都在各自独立的进程中运行。
* 分布式架构：分布式是将一个大的系统划分为多个业务模块,这些业务模块会分别部署到不同的机器上，通过接口进行数据交互。

5. 耦合度不同
* 微服务相比分布式服务来说，它的粒度更小，服务之间耦合度更低，由于每个微服务都由独立的小团队负责，因此它敏捷性更高，分布式服务最后都会向微服务架构演化，这是一种趋势，不过服务微服务化后带来的挑战也是显而易见的，例如服务粒度小，数量大，后期运维将会很难。

6. 拓展阅读
* 分布式是否属于微服务？
* 答案是属于。微服务的意思也就是将模块拆分成一个独立的服务单元通过接口来实现数据的交互。但是微服务不一定是分布式，因为微服务的应用不一定是分散在多个服务器上，他也可以是同一个服务器。这也是分布式和微服务的一个细微差别。
</details>
