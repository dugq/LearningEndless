## 负载均衡中间件
* LVS
* F5
* nginx


## 负载均衡算法
* 轮训
  * 优点：
    * 算法简单
    * 保证每个节点负载均衡
  * 缺点
    * 保证轮训必须设置一个pos轮训标记，对POS自增操作必然引入悲观锁，进而导致性能下降
    * 对于节点列表的轮训操作需要保证读写安全，当节点下线时不能发送数组越界
* 加权轮训
  * 在轮训的基础上，通过增加重复节点，使部分节点的轮训的次数更多
* 随机法
  * 当随机次数到达一定程度时，由概率学得出类似轮训法的结果
  * 优点：
    * 比轮训少了pos操作，性能较好
  * 缺点：
    * 概率学，不能做到完美的平均分配
* 加权随机
  * * 在随机法的基础上，通过增加重复节点，使部分节点的随机的概率更高
* 源地址hash法
  * 根据客户端IP进行hash后再对阶段数进行取模。
  * 优点：
    * 同一IP的用户落在同一台机器上
  * 缺点：
    * 如果大批用户使用相同IP时，负载就不均衡了
* 最小连接数法
  * 通过动态分析每个节点当前积压连接数的情况，选择压力最小的一台
  * 优点：
    * 可根据实际情况动态的保证压力均衡
  * 缺点：
    * 设计复杂，效率稍低
